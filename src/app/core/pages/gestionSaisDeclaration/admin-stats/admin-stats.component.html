<!-- admin-stats.component.html -->
<div class="dashboard-container">
  <h1 class="dashboard-title">Tableau de bord - Administrateur</h1>
 
  <!-- Cartes d'informations principales -->
  <div class="info-cards-grid">
    <div class="info-card">
      <h3>Total des dÃ©clarations</h3>
      <div class="big-number" style="color: #FF9800;">{{ totalDeclarations }}</div>
    </div>
   
    <div class="info-card">
      <h3>Utilisateurs actifs</h3>
      <div class="big-number" style="color: #4CAF50;">{{ adminStats.utilisateursActifs || 0 }}</div>
    </div>
   
    <div class="info-card">
      <h3>Taux de traitement</h3>
      <div class="big-number" style="color: #FF9800;">{{ workflowStats.tauxTraitement || 0 }}%</div>
    </div>
  </div>

  <!-- Grille des graphiques -->
  <div class="charts-grid">
    <!-- Performance des utilisateurs -->
    <div class="chart-container">
      <h3>Performance des utilisateurs</h3>
      <div style="height: 350px; position: relative;">
        <canvas baseChart
          #performanceChart
          [data]="performanceChartData"
          [type]="performanceChartType"
          [options]="performanceChartOptions">
        </canvas>
      </div>
    </div>

    <!-- Statistiques par Ã©tat -->
    <div class="chart-container">
      <h3>RÃ©partition par Ã©tat</h3>
      <div style="height: 350px; position: relative;">
        <canvas baseChart
          #etatChart
          [data]="etatChartData"
          [type]="etatChartType"
          [options]="etatChartOptions">
        </canvas>
      </div>
    </div>

    <!-- Ã‰volution par pÃ©riode -->
    <div class="chart-container full-width">
      <h3>Ã‰volution mensuelle des dÃ©clarations</h3>
      <div style="height: 400px; position: relative;">
        <canvas baseChart
          #periodeChart
          [data]="periodeChartData"
          [type]="periodeChartType"
          [options]="periodeChartOptions">
        </canvas>
      </div>
    </div>
  </div>

  <!-- Section des mÃ©triques avancÃ©es -->
  <div class="metrics-section">
    <h2>MÃ©triques avancÃ©es</h2>
    <div class="metrics-grid">
      <div class="metric-card" style="border-left-color: #4CAF50;">
        <h4>Temps moyen de traitement</h4>
        <p class="metric-value" style="color: #4CAF50;">{{ workflowStats.tempsMoyenTraitement || 0 }} jours</p>
      </div>
     
      <div class="metric-card" style="border-left-color: #FF9800;">
        <h4>Dossiers non traitÃ©s</h4>
        <p class="metric-value alert" style="color: #FF5722;">{{ workflowStats.dossiersEnRetard || 0 }}</p>
      </div>

      <div class="metric-card" style="border-left-color: #FF9800;">
        <h4>Taux de satisfaction</h4>
        <p class="metric-value success" style="color: #4CAF50;">{{ adminStats.tauxSatisfaction || 95 }}%</p>
      </div>

      <div class="metric-card" style="border-left-color: #4CAF50;">
        <h4>Dossiers traitÃ©s ce mois</h4>
        <p class="metric-value" style="color: #FF9800;">{{ adminStats.dossiersMoisCourant || 0 }}</p>
      </div>
    </div>
  </div>

  <!-- Section des actions rapides -->
  <div class="quick-actions-section">
    <h2>Actions rapides</h2>
    <div class="actions-grid">
      <button 
        type="button" 
        class="action-btn refresh-btn"
        (click)="refreshData()">
        ðŸ”„ Actualiser les donnÃ©es
      </button>
      
      <button 
        type="button" 
        class="action-btn export-btn">
        ðŸ“Š Exporter les statistiques
      </button>
      
      <button 
        type="button" 
        class="action-btn alert-btn">
        ðŸš¨ Voir les alertes
      </button>
    </div>
  </div>
</div>